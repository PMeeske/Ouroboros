name: CI

on:
  push:
    branches:
      - main
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      # Checkout source
      - name: Checkout repository
        uses: actions/checkout@v4

      # ---- YOUR BUILD / TEST STEPS GO HERE ----
      # - name: Set up Node
      #   uses: actions/setup-node@v4
      #   with:
      #     node-version: 20
      #
      # - name: Install dependencies
      #   run: npm ci
      #
      # - name: Run tests
      #   run: npm test
      # -----------------------------------------

      # Any action that needs to call the GitHub API must receive a token.
      # Example: peter-evans/create-pull-request (adapt to your action/needs)
      - name: Create or update pull request
        uses: peter-evans/create-pull-request@v6
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}   # <-- critical fix
          commit-message: "chore: automated update"
          branch: "auto/update"
          title: "Automated update"
          body: |
            This PR was generated automatically by the CI workflow.
